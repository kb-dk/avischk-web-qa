<html lang="da">
	<head>
	    <title>QA tool til avis arkiver</title>
	    <meta charset="utf-8">
	    <link href="bootstrap-4.1.3/css/bootstrap.min.css" rel="stylesheet">
	    <link href="dashboard.css" rel="stylesheet">
	</head>
		
	<body>
        <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
            <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">Avis web-qa</a>
        </nav>

	    <div class="container-fluid">
	      <div class="row">
	        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
	          <div class="sidebar-sticky">
	            <ul class="nav flex-column">
	              <li class="nav-item">
	                <a class="nav-link active" href="#">
	                  <span data-feather="home"></span>
	                  Dashboard <span class="sr-only">(current)</span>
	                </a>
	              </li>
	            </ul>
	
	            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
	              <span>Kendte aviser</span>
	              <a class="d-flex align-items-center text-muted" href="#">
	                <span data-feather="plus-circle"></span>
	              </a>
	            </h6>
	            <ul class="nav flex-column mb-2" id="avisIDer">
	            </ul>
	          </div>
	        </nav>
	
	        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
<!-- 	          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
	            <h1 class="h2">Dashboard</h1>
	            <div class="btn-toolbar mb-2 mb-md-0">
	              <div class="btn-group mr-2">
	                <button class="btn btn-sm btn-outline-secondary">Share</button>
	                <button class="btn btn-sm btn-outline-secondary">Export</button>
	              </div>
	              <button class="btn btn-sm btn-outline-secondary dropdown-toggle">
	                <span data-feather="calendar"></span>
	                This week
	              </button>
	            </div>
	          </div>
	 -->
	<!--           <canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas> -->
	        <div id="primary-show"></div>
	        </main>
	      </div>
	    </div>
	
	
	
	    <script src="jquery-3.3.1.min.js"></script>
	    <script src="bootstrap-4.1.3/js/bootstrap.min.js"></script>
	    <script src="jquery.routes.js"></script>
	    <script src="moment.locale.js"></script>
	    <script>
	
	    function loadDatesForNewspaper(id) {
	        var url = 'web-qa/dates/' + id;
	        $.getJSON(url, {}, function(dates) {
	            var html = "<h1>Dates for " + id + "</h1>";
	            for(var i = 0; i < dates.length; i++) {
	                var day = moment(dates[i]).format('YYYY-MM-DD');
	                html += "<a href=\"#/newspapers/" + id + "/date/" + day +"/\">" + day + "</a><br>";
	            }
	            $("#primary-show").html(html);
            });
        }
	    
	    function loadEntitiesForNewspaperOnDate(id, date) {
            var day = moment(date).format('YYYY-MM-DD');
	        var url = 'web-qa/dates/' + id + "/" + day + '/entities';
            $.getJSON(url, {}, function(entities) {
                var html = "<h1>Entities for " + id + " on " + day + "</h1>";
                for(var i = 0; i < entities.length; i++) {
                    html += entities[i] + "<br>";
                }
                $("#primary-show").html(html);
            });
        }
	    
    
	    function loadNewspaperIDs() {
	      $.getJSON('web-qa/getNewspaperIDs', {}, function(ids) {
	        for(var i = 0; i < ids.length; i++) {
	            $("#avisIDer").append(
	            		"<li class=\"nav-item\"><a class=\"nav-link\" href=\"#/newspaper/" + ids[i] + "/\">" + ids[i] + "</a></li>");
	        }
	      });
	    }
	    
	    $.routes.add('/newspaper/{id:string}', function() {
	    	$("#primary").html("Showing newspapers for id: " + this.id);
	    	loadDatesForNewspaper(this.id)
	    }); // Display all years
	    $.routes.add('/newspapers/{id:string}/date/{day:date}', function() {
	    	$("#primary").html("Showing newspapers for id: " + this.id + " on date: " + this.day);
	    	loadEntitiesForNewspaperOnDate(this.id, this.day)
	    }); // Display all months in a given year
	    $.routes.add('/edition/{editionid:string}', function() {
	    	$("#primary").html("Showing newspaper edition for edition_id: " + this.editionid);
        });

	    
	    $(document).ready(function(){
	        // Load page content
	        loadNewspaperIDs();
	      }); 
	    </script>
	    
	</body>

</html>